<%- include('userHead') %>

<body style="background-color: rgb(202, 202, 202)">
  <header
    style="background-color: rgb(202, 202, 202)"
    class="main_menu home_menu"
  >
    <div class="container">
      <div class="row align-items-center justify-content-center">
        <div class="col-lg-12">
          <nav class="navbar navbar-expand-lg navbar-light">
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span><i></i></span>
            </button>
            <img
              style="height: 40px; width: 40px; margin-bottom: 20px"
              src="/assetsuser/img/logo-removebg-preview.png"
              alt=""
            />
            <h4 style="font-family: Georgia, 'Times New Roman', Times, serif">
              P Mart
            </h4>

            <div
              class="collapse navbar-collapse main-menu-item"
              id="navbarSupportedContent"
            >
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/products">Products</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/about">about</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/contact">Contact</a>
                </li>
              </ul>
            </div>

            <div class="hearer_icon d-flex align-items-center">
              <a href="/cart">
                <ion-icon
                  style="
                    height: 25px;
                    width: 25px;
                    margin-left: 30px;
                    margin-top: 2px;
                    color: black;
                  "
                  name="cart-outline"
                ></ion-icon>
              </a>
              <a href="/profile">
                <ion-icon
                  style="
                    height: 25px;
                    width: 25px;
                    margin-left: 30px;
                    margin-top: 2px;
                    color: black;
                  "
                  name="person-circle-outline"
                ></ion-icon>
              </a>

              <a href="/whishlist">
                <ion-icon
                  style="
                    height: 25px;
                    width: 25px;
                    margin-left: 30px;
                    margin-top: 2px;
                    color: black;
                  "
                  name="heart-outline"
                ></ion-icon>
              </a>
              <span class="ml-1"> </span>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </header>

  <div
    style="
      height: 85vh;
      width: 98vw;
      display: flex;
      justify-content: center;
      align-items: center;
    "
  >
    <div
      class="container-fluid d-flex flex-column justify-content-center align-items-center login-main"
    >
      <form
        class="login-container"
        id="loginForm"
        method="post"
        action="/login"
      >
        <h2 style="color: rgb(0, 0, 0)">User Login</h2>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label"
            >Email address</label
          >
          <input
            type="email"
            class="form-control login-input"
            id="exampleInputEmail1"
            name="email"
            aria-describedby="emailHelp"
            required
          />
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input
            type="password"
            class="form-control login-input"
            name="password"
            id="exampleInputPassword1"
            required
          />
        </div>
        <% if (typeof ban !== "undefined") { %>
        <p style="color: red; margin-left: 20px"><%= ban %></p>
        <% } %> <% if (typeof err !== "undefined") { %>
        <p style="color: red; margin-left: 20px"><%= err %></p>
        <% } %>
        <button type="submit" class="btn btn-primary login-btn">
          Submit
          <span
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
            style="display: none"
          ></span>
        </button>
        <button type="button" class="btn btn-primary login-btn" id="demoLogin">
          Demo login
          <span
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
            style="display: none"
          ></span>
        </button>
        <div class="container d-flex justify-content-center mt-3"></div>
      </form>
      <span style="color: rgb(31, 110, 156)"
        ><a
          style="color: rgba(0, 0, 0, 0.808)"
          href="/signup"
          class="lost_pass mr-2"
          >Create an account</a
        >OR

        <a
          style="color: rgba(0, 0, 0, 0.788)"
          class="lost_pass ml-2"
          href="/forgot-password"
          >forget password?</a
        ></span
      >
    </div>
  </div>

  <script>
   document.addEventListener("DOMContentLoaded", function() {
  const emailInput = document.getElementById("exampleInputEmail1");
  const passwordInput = document.getElementById("exampleInputPassword1");
  const submitButton = document.querySelector('.login-btn[type="submit"]');

  function toggleSubmitButtonState() {
    submitButton.disabled = !emailInput.value || !passwordInput.value;
  }

  toggleSubmitButtonState();

  emailInput.addEventListener("input", toggleSubmitButtonState);
  passwordInput.addEventListener("input", toggleSubmitButtonState);

  submitButton.addEventListener("click", function(event) {
    const spinner = this.querySelector(".spinner-border");
    spinner.style.display = "inline-block";
  });


      document
        .getElementById("demoLogin")
        .addEventListener("click", function (event) {
          const spinner = this.querySelector(".spinner-border");
          spinner.style.display = "inline-block";
          this.disabled = true;

          document.getElementById("exampleInputEmail1").value = "f@gmail.com";
          document.getElementById("exampleInputPassword1").value = "1111";
          document.getElementById("loginForm").submit();
        });
    });
  </script>
  
  <script
    type="module"
    src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
  ></script>
</body>

<%- include('footer') %>
